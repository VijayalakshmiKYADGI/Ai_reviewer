{
    "messages": [
        "Starting Container",
        "Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages",
        "declare_namespace(parent)",
        "/usr/local/lib/python3.12/site-packages/crewai/task.py:23: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/",
        "Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages",
        "declare_namespace(pkg)",
        "/usr/local/lib/python3.12/site-packages/pkg_resources/__init__.py:3148: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google.cloud')`.",
        "Implementing implicit namespace packages (as specified in PEP 420) is preferred to `pkg_resources.declare_namespace`. See https://setuptools.pypa.io/en/latest/references/keywords.html#keyword-namespace-packages",
        "declare_namespace(pkg)",
        "/usr/local/lib/python3.12/site-packages/pkg_resources/__init__.py:2560: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.",
        "/usr/local/lib/python3.12/site-packages/crewai/telemetry/telemetry.py:9: UserWarning: pkg_resources is deprecated as an API. See https://setuptools.pypa.io/en/latest/pkg_resources.html. The pkg_resources package is slated for removal as early as 2025-11-30. Refrain from using this package or pin to Setuptools<81.",
        "import pkg_resources",
        "/usr/local/lib/python3.12/site-packages/pkg_resources/__init__.py:3148: DeprecationWarning: Deprecated call to `pkg_resources.declare_namespace('google')`.",
        "class Task(BaseModel):",
        "INFO:     Started server process [1]",
        "INFO:     Waiting for application startup.",
        "2026-01-24 17:12:40 [info     ] startup_event                  version='v2.1.11-max_rpm fixed'",
        "2026-01-24 17:12:40 [info     ] deployment_info                commit=unknown version='v2.1.11-max_rpm fixed'",
        "2026-01-24 17:12:40 [info     ] database_connected             path=postgresql://postgres:GXmuOYDAzAKKLjzRcRkXewzqamHjMNvn@mainline.proxy.rlwy.net:17322/railway",
        "2026-01-24 17:12:40 [info     ] database_initialized           schema=/app/data/schema.sql",
        "[OK] Database initialized successfully",
        "2026-01-24 17:12:40 [info     ] database_initialized",
        "2026-01-24 17:12:40 [info     ] gemini_key_detected",
        "INFO:     Application startup complete.",
        "INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)",
        "2026-01-24 17:29:52 [info     ] request_started                method=POST path=/webhook/github request_id=1769275792.834879",
        "2026-01-24 17:29:52 [info     ] webhook_received               action=opened delivery_id=4a51db20-f94a-11f0-9661-b9bba2dd3643 github_event=pull_request",
        "2026-01-24 17:29:52 [info     ] request_completed              duration=0.032453060150146484 path=/webhook/github status=202",
        "INFO:     100.64.0.2:18722 - \"POST /webhook/github HTTP/1.1\" 202 Accepted",
        "2026-01-24 17:29:53 [info     ] github_client_initialized      auth_mode=token",
        "2026-01-24 17:29:53 [info     ] processing_pr_event            action=opened delivery_id=4a51db20-f94a-11f0-9661-b9bba2dd3643 pr_number=32 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 17:29:53 [info     ] handling_pr_opened             delivery_id=4a51db20-f94a-11f0-9661-b9bba2dd3643",
        "2026-01-24 17:29:54 [info     ] executing_review_pipeline      delivery_id=4a51db20-f94a-11f0-9661-b9bba2dd3643 pr_number=32 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 17:29:54 [info     ] executing_crewai_pipeline      files_count=4 pr_number=32 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 17:29:54 [info     ] pipeline_started               pr=32 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 17:29:54 [info     ] database_connected             path=postgresql://postgres:GXmuOYDAzAKKLjzRcRkXewzqamHjMNvn@mainline.proxy.rlwy.net:17322/railway",
        "2026-01-24 17:29:54 [info     ] review_saved                   repo=VijayalakshmiKYADGI/test review_id=1",
        "2026-01-24 17:29:54 [error    ] crew_kickoff_failed            error=\"name 'RadonTool' is not defined\"",
        "2026-01-24 17:29:54 [error    ] pipeline_failed                error=\"name 'RadonTool' is not defined\"",
        "2026-01-24 17:29:54 [error    ] review_pipeline_failed         delivery_id=4a51db20-f94a-11f0-9661-b9bba2dd3643 error=\"name 'RadonTool' is not defined\"",
        "╭───────────────────── Traceback (most recent call last) ──────────────────────╮",
        "258          )",
        "/app/github_integration/webhook_handler.py:261 in _execute_review_pipeline",
        "259",
        "",
        "260          # Execute the full CrewAI review pipeline",
        "❱ 261          result = await execute_review_pipeline(review_input)",
        "262",
        "263          logger.info(",
        "264             \"crewai_pipeline_completed\",",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "delivery_id = '4a51db20-f94a-11f0-9661-b9bba2dd3643'",
        "e = NameError(\"name 'RadonTool' is not defined\")",
        "pr_data = PRData(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=32,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "title='Feat/new',",
        "author='VijayalakshmiKYADGI',",
        "additions=0,",
        "deletions=8,",
        "filename='test-project/README.md',",
        "status='modified'",
        "files_changed=[",
        "),",
        "patch='@@ -10,11 +10,3 @@ It contains",
        "intentional:\\n \\n ## Usage\\n \\n-This repo works with",
        "FileChange(",
        "'+375,",
        "language='markdown',",
        "FileChange(",
        "filename='test-project/config.py',",
        "patch='@@ -0,0 +1,48 @@\\n+\"\"\"\\n+Configuration",
        "file with hardcoded secrets and poor practi'+1452,",
        "language='python',",
        "additions=48,",
        "deletions=0,",
        "status='added'",
        "),",
        "FileChange(",
        "",
        "FileChange(",
        "filename='test-project/slow_performance.py',",
        "language='python',",
        "additions=91,",
        "deletions=0,",
        "status='added'",
        "),",
        "filename='test-project/inefficient_database.py',",
        "patch='@@ -0,0 +1,91 @@\\n+import",
        "sqlite3\\n+import time\\n+\\n+class DatabaseManager:\\n+",
        "def'+3019,",
        "patch='@@ -1,28 +1,49 @@\\n import",
        "time\\n+import sys\\n+from typing import List\\n \\n-def",
        "compl'+1878,",
        "language='python',",
        "additions=23,",
        "deletions=2,",
        "status='modified'",
        ")",
        "],",
        "full_diff='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543",
        ")",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=32,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "",
        "'test-project/slow_performance.py'",
        "/app/core/execution.py:67 in execute_review_pipeline",
        "],",
        "",
        "language='python'",
        ")",
        "self = <github_integration.webhook_handler.WebhookHandler object",
        "at 0x7f87ce27ddc0>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "64    except Exception as e:",
        "65       logger.error(\"pipeline_failed\", error=str(e))",
        "66       # Logic to update DB with failure status could go here",
        "❱ 67       raise e",
        "68",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "config = ReviewConfig(",
        "max_execution_time=300,",
        "max_findings_per_file=20,",
        "max_total_findings=100,",
        "enable_memory=False,",
        "verbose=True,",
        "temperature=0.1,",
        "early_termination_threshold=3",
        ")",
        "crew_runner = <core.crew.ReviewCrew object at 0x7f87c7f37b90>",
        "review_id = 1",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=32,",
        "",
        ")",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        "start_time = 1769275794.3423066",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/execution.py:32 in execute_review_pipeline",
        "",
        "29    try:",
        "30       # 2. Crew Execution",
        "31       crew_runner = ReviewCrew(config)",
        "❱ 32       result = crew_runner.kickoff(review_input)",
        "33",
        "34       # 3. Extract Intermediate Outputs",
        "35       # CrewAI stores task outputs in crew.tasks",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "config = ReviewConfig(",
        "max_execution_time=300,",
        "max_findings_per_file=20,",
        "max_total_findings=100,",
        "enable_memory=False,",
        "verbose=True,",
        "temperature=0.1,",
        "early_termination_threshold=3",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        ")",
        "crew_runner = <core.crew.ReviewCrew object at 0x7f87c7f37b90>",
        "review_id = 1",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=32,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "start_time = 1769275794.3423066",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "repo_name='VijayalakshmiKYADGI/test',",
        "/app/core/crew.py:121 in kickoff",
        "pr_number=32,",
        "",
        "118",
        "119       except Exception as e:",
        "120          logger.error(\"crew_kickoff_failed\", error=str(e))",
        "❱ 121          raise e",
        "122",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "review_input = ReviewInput(",
        "'test-project/config.py',",
        "",
        "'test-project/inefficient_database.py',",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "'test-project/slow_performance.py'",
        "diff_content='diff --git a/test-project/README.md",
        "],",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "language='python'",
        "files_changed=[",
        "'test-project/README.md',",
        ")",
        "83             diff_content=review_input.diff_content,",
        "self = <core.crew.ReviewCrew object at 0x7f87c7f37b90>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/crew.py:82 in kickoff",
        "",
        "79       \"\"\"",
        "80       try:",
        "81          # 1. Assemble",
        "❱  82          self.assemble(",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "84             pr_details={",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "85                \"repo_name\": review_input.repo_name,",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=32,",
        "",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "self = <core.crew.ReviewCrew object at 0x7f87c7f37b90>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/crew.py:44 in assemble",
        "",
        "41       # or reuse registry if agents are stateless (they are mostly).",
        "42       # We need mapping for TaskGraph.",
        "43       agents = {",
        "❱  44          \"code_quality\": self.registry.get_agent_by_name(\"code_qual",
        "llm=shared_llm),",
        "45          \"performance\": self.registry.get_agent_by_name(\"performanc",
        "llm=shared_llm),",
        "46          \"security\": self.registry.get_agent_by_name(\"security\", ll",
        "47          \"architecture\": self.registry.get_agent_by_name(\"architect",
        "llm=shared_llm),",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "diff_content = 'diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543",
        "os = <module 'os' (frozen)>",
        "pr_details = {",
        "'repo_name': 'VijayalakshmiKYADGI/test',",
        "'pr_number': 32",
        "}",
        "self = <core.crew.ReviewCrew object at 0x7f87c7f37b90>",
        "shared_llm = ChatGoogleGenerativeAI(",
        "model='models/gemini-2.5-flash-lite',",
        "google_api_key=SecretStr('**********'),",
        "temperature=0.1,",
        "max_retries=1,",
        "",
        "client=<google.ai.generativelanguage_v1beta.services.gen…",
        "object at 0x7f87c7d89f70>,",
        "",
        "async_client=<google.ai.generativelanguage_v1beta.servic…",
        "object at 0x7f87c7d8b050>,",
        "default_metadata=()",
        ")",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/agents/agent_registry.py:35 in get_agent_by_name",
        "",
        "32       if llm:",
        "33          agent_adapter.llm = llm",
        "34",
        "❱ 35       return agent_adapter.create()",
        "36",
        "37    def create_crew(self) -> Crew:",
        "38       \"\"\"Create a default crew with all agents configured.\"\"\"",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "agent_adapter = <agents.code_quality_agent.CodeQualityAgent object at",
        "0x7f87c7e2d970>",
        "llm = ChatGoogleGenerativeAI(",
        "model='models/gemini-2.5-flash-lite',",
        "google_api_key=SecretStr('**********'),",
        "temperature=0.1,",
        "max_retries=1,",
        "",
        "client=<google.ai.generativelanguage_v1beta.services.ge…",
        "object at 0x7f87c7d89f70>,",
        "",
        "async_client=<google.ai.generativelanguage_v1beta.servi…",
        "object at 0x7f87c7d8b050>,",
        "default_metadata=()",
        ")",
        "name = 'code_quality'",
        "self = <agents.agent_registry.AgentRegistry object at",
        "0x7f882d78c7d0>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/agents/code_quality_agent.py:32 in create",
        "",
        "29             You use tools to analyze code and provide comprehensive",
        "30          tools=[",
        "31             PylintTool(),",
        "❱ 32             RadonTool(),",
        "33             BanditTool(),",
        "34             TreeSitterTool()",
        "35          ],",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "self = <agents.code_quality_agent.CodeQualityAgent object at",
        "0x7f87c7e2d970>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "╰──────────────────────────────────────────────────────────────────────────────╯",
        "NameError: name 'RadonTool' is not defined",
        "",
        "2026-01-24 17:29:54 [info     ] webhook_processed              delivery_id=4a51db20-f94a-11f0-9661-b9bba2dd3643 result={'status': 'failed', 'action': 'opened', 'reason': 'Review pipeline returned no results'}"
    ]
}