{
    "messages": [
        "Starting Container",
        "INFO:     Started server process [1]",
        "INFO:     Waiting for application startup.",
        "2026-01-24 14:07:48 [info     ] startup_event                  version='v2.1.10-model fixed'",
        "2026-01-24 14:07:48 [info     ] deployment_info                commit=unknown version='v2.1.10-model fixed'",
        "2026-01-24 14:07:48 [info     ] database_connected             path=postgresql://postgres:GXmuOYDAzAKKLjzRcRkXewzqamHjMNvn@mainline.proxy.rlwy.net:17322/railway",
        "2026-01-24 14:07:48 [info     ] database_initialized           schema=/app/data/schema.sql",
        "[OK] Database initialized successfully",
        "2026-01-24 14:07:48 [info     ] database_initialized",
        "2026-01-24 14:07:48 [info     ] gemini_key_detected",
        "INFO:     Application startup complete.",
        "INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)",
        "2026-01-24 14:12:09 [info     ] request_started                method=POST path=/webhook/github request_id=1769263929.1143677",
        "2026-01-24 14:12:09 [info     ] webhook_received               action=closed delivery_id=aadf5420-f92e-11f0-810c-b4d4f218d5a7 github_event=pull_request",
        "2026-01-24 14:12:09 [info     ] unsupported_action             action=closed delivery_id=aadf5420-f92e-11f0-810c-b4d4f218d5a7",
        "2026-01-24 14:12:09 [info     ] request_completed              duration=0.06646037101745605 path=/webhook/github status=200",
        "INFO:     100.64.0.2:19642 - \"POST /webhook/github HTTP/1.1\" 200 OK",
        "2026-01-24 14:38:48 [info     ] request_started                method=POST path=/webhook/github request_id=1769265528.397187",
        "2026-01-24 14:38:50 [info     ] executing_crewai_pipeline      files_count=4 pr_number=25 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 14:38:50 [info     ] pipeline_started               pr=25 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 14:38:50 [info     ] database_connected             path=postgresql://postgres:GXmuOYDAzAKKLjzRcRkXewzqamHjMNvn@mainline.proxy.rlwy.net:17322/railway",
        "2026-01-24 14:38:48 [info     ] webhook_received               action=opened delivery_id=63efb420-f932-11f0-9dc2-2508b6526613 github_event=pull_request",
        "2026-01-24 14:38:48 [info     ] request_completed              duration=0.06940674781799316 path=/webhook/github status=202",
        "2026-01-24 14:38:48 [info     ] github_client_initialized      auth_mode=token",
        "2026-01-24 14:38:50 [info     ] review_saved                   repo=VijayalakshmiKYADGI/test review_id=1",
        "INFO:     100.64.0.3:22350 - \"POST /webhook/github HTTP/1.1\" 202 Accepted",
        "2026-01-24 14:38:48 [info     ] processing_pr_event            action=opened delivery_id=63efb420-f932-11f0-9dc2-2508b6526613 pr_number=25 repo=VijayalakshmiKYADGI/test",
        "2026-01-24 14:38:50 [error    ] crew_kickoff_failed            error=\"2 validation errors for Agent\\ntools.0\\n  Input should be a valid dictionary or instance of BaseTool [type=model_type, input_value=StructuredTool(name='Pyli...tool at 0x7f80dd610040>), input_type=StructuredTool]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\\ntools.1\\n  Input should be a valid dictionary or instance of BaseTool [type=model_type, input_value=StructuredTool(name='AST ...tool at 0x7f80dd716a20>), input_type=StructuredTool]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\"",
        "2026-01-24 14:38:48 [info     ] handling_pr_opened             delivery_id=63efb420-f932-11f0-9dc2-2508b6526613",
        "2026-01-24 14:38:50 [info     ] executing_review_pipeline      delivery_id=63efb420-f932-11f0-9dc2-2508b6526613 pr_number=25 repo=VijayalakshmiKYADGI/test",
        "Input should be a valid dictionary or instance of",
        "BaseTool [type=model_type,",
        "input_value=StructuredTool(name='Pyli...tool at",
        "0x7f80dd610040>), input_type=StructuredTool]",
        "For further information visit",
        "https://errors.pydantic.dev/2.11/v/model_type",
        "tools.1",
        "Input should be a valid dictionary or instance of",
        "BaseTool [type=model_type,",
        "input_value=StructuredTool(name='AST ...tool at",
        "0x7f80dd716a20>), input_type=StructuredTool]",
        "2026-01-24 14:38:50 [error    ] pipeline_failed                error=\"2 validation errors for Agent\\ntools.0\\n  Input should be a valid dictionary or instance of BaseTool [type=model_type, input_value=StructuredTool(name='Pyli...tool at 0x7f80dd610040>), input_type=StructuredTool]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\\ntools.1\\n  Input should be a valid dictionary or instance of BaseTool [type=model_type, input_value=StructuredTool(name='AST ...tool at 0x7f80dd716a20>), input_type=StructuredTool]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\"",
        "2026-01-24 14:38:50 [error    ] review_pipeline_failed         delivery_id=63efb420-f932-11f0-9dc2-2508b6526613 error=\"2 validation errors for Agent\\ntools.0\\n  Input should be a valid dictionary or instance of BaseTool [type=model_type, input_value=StructuredTool(name='Pyli...tool at 0x7f80dd610040>), input_type=StructuredTool]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\\ntools.1\\n  Input should be a valid dictionary or instance of BaseTool [type=model_type, input_value=StructuredTool(name='AST ...tool at 0x7f80dd716a20>), input_type=StructuredTool]\\n    For further information visit https://errors.pydantic.dev/2.11/v/model_type\"",
        "╭───────────────────── Traceback (most recent call last) ──────────────────────╮",
        "/app/github_integration/webhook_handler.py:261 in _execute_review_pipeline",
        "",
        "258          )",
        "259",
        "260          # Execute the full CrewAI review pipeline",
        "❱ 261          result = await execute_review_pipeline(review_input)",
        "262",
        "263          logger.info(",
        "264             \"crewai_pipeline_completed\",",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "delivery_id = '63efb420-f932-11f0-9dc2-2508b6526613'",
        "e = 2 validation errors for Agent",
        "tools.0",
        "For further information visit",
        "https://errors.pydantic.dev/2.11/v/model_type",
        "pr_data = PRData(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=25,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "title='Feat/new',",
        "author='VijayalakshmiKYADGI',",
        "files_changed=[",
        "FileChange(",
        "filename='test-project/README.md',",
        "patch='@@ -10,11 +10,3 @@ It contains",
        "intentional:\\n \\n ## Usage\\n \\n-This repo works with",
        "'+375,",
        "language='markdown',",
        "additions=0,",
        "deletions=8,",
        "status='modified'",
        "),",
        "FileChange(",
        "filename='test-project/config.py',",
        "patch='@@ -0,0 +1,48 @@\\n+\"\"\"\\n+Configuration",
        "file with hardcoded secrets and poor practi'+1452,",
        "language='python',",
        "additions=48,",
        "deletions=0,",
        "status='added'",
        "),",
        "FileChange(",
        "",
        "filename='test-project/inefficient_database.py',",
        "patch='@@ -0,0 +1,91 @@\\n+import",
        "patch='@@ -1,28 +1,49 @@\\n import",
        "sqlite3\\n+import time\\n+\\n+class DatabaseManager:\\n+",
        "time\\n+import sys\\n+from typing import List\\n \\n-def",
        "def'+3019,",
        "language='python',",
        "additions=91,",
        "deletions=0,",
        "status='added'",
        "),",
        "FileChange(",
        "filename='test-project/slow_performance.py',",
        "compl'+1878,",
        "b/test-project/README.md\\n--- a/test-project/'+7543",
        "language='python',",
        "additions=23,",
        ")",
        "review_input = ReviewInput(",
        "status='modified'",
        "deletions=2,",
        ")",
        "],",
        "full_diff='diff --git a/test-project/README.md",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=25,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "self = <github_integration.webhook_handler.WebhookHandler object",
        "at 0x7f80d637b4a0>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/execution.py:67 in execute_review_pipeline",
        "",
        "64    except Exception as e:",
        "65       logger.error(\"pipeline_failed\", error=str(e))",
        "66       # Logic to update DB with failure status could go here",
        "max_total_findings=100,",
        "❱ 67       raise e",
        "enable_memory=False,",
        "68",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "config = ReviewConfig(",
        "max_execution_time=300,",
        "max_findings_per_file=20,",
        "verbose=True,",
        "temperature=0.1,",
        "early_termination_threshold=3",
        ")",
        "crew_runner = <core.crew.ReviewCrew object at 0x7f80d6736060>",
        "review_id = 1",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=25,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "start_time = 1769265530.1094909",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/execution.py:32 in execute_review_pipeline",
        "",
        "29    try:",
        "30       # 2. Crew Execution",
        "31       crew_runner = ReviewCrew(config)",
        "❱ 32       result = crew_runner.kickoff(review_input)",
        "33",
        "34       # 3. Extract Intermediate Outputs",
        "35       # CrewAI stores task outputs in crew.tasks",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "config = ReviewConfig(",
        "max_execution_time=300,",
        "max_findings_per_file=20,",
        "max_total_findings=100,",
        "enable_memory=False,",
        "verbose=True,",
        "temperature=0.1,",
        "early_termination_threshold=3",
        ")",
        "crew_runner = <core.crew.ReviewCrew object at 0x7f80d6736060>",
        "review_id = 1",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=25,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "start_time = 1769265530.1094909",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/crew.py:117 in kickoff",
        "",
        "114",
        "115       except Exception as e:",
        "116          logger.error(\"crew_kickoff_failed\", error=str(e))",
        "❱ 117          raise e",
        "118",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=25,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "self = <core.crew.ReviewCrew object at 0x7f80d6736060>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/core/crew.py:78 in kickoff",
        "",
        "75       \"\"\"",
        "76       try:",
        "77          # 1. Assemble",
        "❱  78          self.assemble(",
        "79             diff_content=review_input.diff_content,",
        "80             pr_details={",
        "81                \"repo_name\": review_input.repo_name,",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "review_input = ReviewInput(",
        "repo_name='VijayalakshmiKYADGI/test',",
        "pr_number=25,",
        "",
        "pr_url='https://github.com/VijayalakshmiKYADGI/test/pull…",
        "diff_content='diff --git a/test-project/README.md",
        "b/test-project/README.md\\n--- a/test-project/'+7543,",
        "files_changed=[",
        "'test-project/README.md',",
        "'test-project/config.py',",
        "'test-project/inefficient_database.py',",
        "'test-project/slow_performance.py'",
        "],",
        "language='python'",
        ")",
        "self = <core.crew.ReviewCrew object at 0x7f80d6736060>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "34          \"security\": self.registry.get_agent_by_name(\"security\"),",
        "35          \"architecture\": self.registry.get_agent_by_name(\"architect",
        "",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "/app/core/crew.py:32 in assemble",
        "",
        "29       # or reuse registry if agents are stateless (they are mostly).",
        "30       # We need mapping for TaskGraph.",
        "31       agents = {",
        "❱  32          \"code_quality\": self.registry.get_agent_by_name(\"code_qual",
        "33          \"performance\": self.registry.get_agent_by_name(\"performanc",
        "",
        "/app/agents/agent_registry.py:30 in get_agent_by_name",
        "diff_content = 'diff --git a/test-project/README.md",
        "",
        "b/test-project/README.md\\n--- a/test-project/'+7543",
        "pr_details = {",
        "'repo_name': 'VijayalakshmiKYADGI/test',",
        "'pr_number': 25",
        "}",
        "self = <core.crew.ReviewCrew object at 0x7f80d6736060>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "27       \"\"\"Get a specific agent instance by name.\"\"\"",
        "28       if name not in self._agents:",
        "29          raise ValueError(f\"Agent '{name}' not found. Available:",
        "{list(self._agents.keys())}\")",
        "❱ 30       return self._agents[name].create()",
        "31",
        "32    def create_crew(self) -> Crew:",
        "33       \"\"\"Create a default crew with all agents configured.\"\"\"",
        "",
        "╭─────────────────────────────── locals ────────────────────────────────╮",
        "name = 'code_quality'",
        "self = <agents.agent_registry.AgentRegistry object at 0x7f80d6338680>",
        "╰───────────────────────────────────────────────────────────────────────╯",
        "",
        "/app/agents/code_quality_agent.py:22 in create",
        "",
        "19       self.parser = TreeSitterParser()",
        "20",
        "21    def create(self) -> Agent:",
        "❱ 22       return Agent(",
        "23          role=\"Senior Python Developer\",",
        "24          goal=\"Find style violations, naming issues, and code smells",
        "25          backstory=dedent(\"\"\"\\",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "self = <agents.code_quality_agent.CodeQualityAgent object at",
        "0x7f80df38ae70>",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "",
        "/usr/local/lib/python3.12/site-packages/pydantic/main.py:253 in __init__",
        "",
        "250       \"\"\"",
        "251       # `__tracebackhide__` tells pytest and some other tools to om",
        "from tracebacks",
        "252       __tracebackhide__ = True",
        "❱  253       validated_self = self.__pydantic_validator__.validate_python(",
        "self_instance=self)",
        "254       if self is not validated_self:",
        "255          warnings.warn(",
        "256             'A custom validator is returning a value other than `",
        "",
        "╭───────────────────────────────── locals ─────────────────────────────────╮",
        "data = {",
        "'role': 'Senior Python Developer',",
        "'goal': 'Find style violations, naming issues, and code",
        "smells in Python code',",
        "'backstory': 'You are a veteran Python developer with 10+",
        "years of experience.\\nYou are strictl'+234,",
        "'tools': [",
        "StructuredTool(",
        "name='Pylint Analysis',",
        "description='Run Pylint on python code to find style",
        "issues and errors. Input should be the p'+18,",
        "args_schema=<class",
        "'langchain_core.utils.pydantic.Pylint Analysis'>,",
        "func=<function pylint_tool at 0x7f80dd610040>",
        "),",
        "StructuredTool(",
        "name='AST Parsing',",
        "description='Parse Python code into structural blocks",
        "(functions, classes). Input is python c'+11,",
        "args_schema=<class 'langchain_core.utils.pydantic.AST",
        "Parsing'>,",
        "func=<function tree_sitter_tool at 0x7f80dd716a20>",
        ")",
        "],",
        "'llm': ChatGoogleGenerativeAI(",
        "profile={",
        "'max_input_tokens': 1048576,",
        "'max_output_tokens': 65536,",
        "'image_inputs': True,",
        "'audio_inputs': True,",
        "'pdf_inputs': True,",
        "'video_inputs': True,",
        "'image_outputs': False,",
        "'audio_outputs': False,",
        "'video_outputs': False,",
        "'reasoning_output': True,",
        "... +5",
        "},",
        "google_api_key=SecretStr('**********'),",
        "model='gemini-2.5-flash-lite',",
        "temperature=0.1,",
        "'max_iter': 10,",
        "'allow_delegation': False",
        "}",
        "client=<google.genai.client.Client object at",
        "self = Agent()",
        "0x7f80d669cb30>,",
        "default_metadata=(),",
        "model_kwargs={}",
        "),",
        "'verbose': False,",
        "'memory': False,",
        "tools.1",
        "Input should be a valid dictionary or instance of BaseTool [type=model_type,",
        "input_value=StructuredTool(name='AST ...tool at 0x7f80dd716a20>),",
        "╰──────────────────────────────────────────────────────────────────────────╯",
        "input_type=StructuredTool]",
        "For further information visit https://errors.pydantic.dev/2.11/v/model_type",
        "",
        "╰──────────────────────────────────────────────────────────────────────────────╯",
        "2026-01-24 14:38:50 [info     ] webhook_processed              delivery_id=63efb420-f932-11f0-9dc2-2508b6526613 result={'status': 'failed', 'action': 'opened', 'reason': 'Review pipeline returned no results'}",
        "ValidationError: 2 validation errors for Agent",
        "tools.0",
        "Input should be a valid dictionary or instance of BaseTool [type=model_type,",
        "input_value=StructuredTool(name='Pyli...tool at 0x7f80dd610040>),",
        "input_type=StructuredTool]",
        "For further information visit https://errors.pydantic.dev/2.11/v/model_type"
    ]
}